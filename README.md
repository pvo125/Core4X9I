<<<<<<< HEAD
-Îòëàäî÷íàÿ ïëàòà îò WaveShare Core4X9I c
êîíòðîëëåðîì STM32f429IG 
-LCD ìîäóëü ñî âñòðîåííûì êîíòðîëëåðîì SSD1963 óïðàâëåíèå
ïî 16 áèòíîé øèíå (RGB565) ÷åðåç âñòðîåííûé ìîäóëü êîíòðîëëåðà FMC â ðåæèìå NAND Flash.
-Òà÷ êîíòðîëëåð TSC2046 ÷åðåç SPI2 (stm32) ÷àñòîòà spi èíòåðôåéñà 1,4MHz
-Èñïîëüçóåòñÿ ìèêðîñõåìà SDRAM  IS42S16400  1Meg Bits x 16 Bits x 4 Banks (64-MBIT)
÷àñòîòà èíòåðôåéñà AHB 90MHz. SDRAM ïîäêëþ÷åíà  ê FMC_SDRAM_Bank2  àäðåñ SDRAM_BASE=0x90000000.
-Heap emWin ðàñïîëàãàåòñÿ ñ àäðåñà 0x9010 0000 äî 0x9019 D7FF ( 630*1024 áàéò)
-SPI FLASH (MX25L8005) ÷åðåç èíòåðôåéñ SPI1 11,25MHz (STM32). Âñå áèòìàïû èêîíîê õðàíÿòüñÿ â íåé è ïðè ñòàðòå êîïèðóþòñÿ
â SDARM ïî àäðåñó 0x900B0000-0x900BCBAB (50*1024)  è äàëåå ðèñóþòñÿ èç SDRAM. Ôàéë ñ êàðòîé ðàñïðåäåëåíèÿ ïàìÿòè
memory_map.xls
-sd êàðòà ïîäêëþ÷åíà ïî 4-õ áèòíîìó èíòåðôåéñó SDIO  SDIOCLK=(48MHz) / 2=24MHz.
Êàðòà ðàáîòàåò ÷åðåç DMA2_Stream3. Îäèí íà ïðèåì è íà ïåðåäà÷ó. Äðàéâåð êàðòû íàñòðîåí íà áàéòíóþ àäðåñàöèþ (SDSC 1,2 Gb)
-Ïîâåðõ ôóíêöèé ÷òåíèÿ/çàïèñè ñåêòîðà ðåàëèçîâàíû ôóíêöèè disc_read disc_write èç áèáëèîòåêè FATFs (Chan's)
Âñÿ ðàáîòà ñ êàðòîé ÷òåíèå çàïèñü ôàéëîâ ïîñðåäñòâîì ôàéëîâîé ñèñòåìû FATFS.
-Íàñòðîåí ìîäóëü äëÿ ïðèåìà ñîîáùåíèé ïî CAN ñåòè (CAN1). ×àñòîòà 100 KHz Sample point=80%. Òðàíññèâåð CAN øèíû
SN65HVD230.
-Íà òàéìåðå TIM2 ñäåëàí ìîäóëü óïðàâëåíèÿ òèðèñòîðîì äëÿ ðåãóëèðîâàíèÿ ìîùíîñòè íàãðóçêè (íàãðåâàòåëü).
2 ðåæèìà ðàáîòû òàéìåðà ôàçîâûé è ïî ìåòîäó áðåçåíõåìà.Òàéìåð â ðåæèìå One pulse mode.Äëèòåëüíîñòü èìïóëüñà äëÿ îòêðûâàíèÿ
òèðèñòîðà 300 ìêñ.
-Ôàçîâûé ðåàëèçóåò èçìåíåíèå ôàçû âêëþ÷åíèÿ òèðèñòîðà íà êàæäîì ïîëóïåðèîäå
ñåòåâîãî íàïðÿæåíèÿ èçìåíÿÿ ìîùíîñòü íàãðóçêè 0-100% ñ øàãîì 1%. Òàéìåð çàïóñêàåòñÿ è ôîðìèðóåò èìïóëüñ
âêëþ÷åíèÿ òèðèñòîðà íà êàæäîì ïîëóïåðèîäå ïî ñèãíàëó ñ äåòåêòîðà ïåðåõîäà "ôàçû" ÷åðåç "íîëü".
Â òàêîì ðåæèìå òàéìåð ãåíåðèò èìïóëüñû  àâòîíîìíî áåç ïðåðûâàíèé.

-Áðåçåíõåìà ðåàëèçóåò èçìåíåíèå ìîùíîñòè ïóòåì ïðîïóñêîâ öåëûõ ïåðèîäîâ ñèíóñîéäû ñåòåâîãî íàïðÿæåíèÿ.
Äëÿ ýòîãî âêëþ÷àåòñÿ ïðåðûâàíèå äëÿ òàéìåðà ïî ñîáûòèþ capture îò äåòåêòîðà "ôàçû ÷åðåç íîëü".
×åðåç áèòû IC1PSC ðåãèñòðà CCMR1 ïðåðûâàíèå ïî çàõâàòó ñðàáàòûâàåò íà êàæäîì âòîðîì èìïóëüñå.Òàêèì
îáðàçîì  äåëàåòñÿ ïðîïóñê öåëûõ ïåðèîäîâ ñèíóñîéäû äëÿ ðåãóëèðîâàíèÿ. Ìîùíîñòü ðåãóëèðóåòñÿ 0-100 %
íî â òàêîì ðåæèìå øàã ðàâåí 2% (50 äåëåíèé ïî ìîùíîñòè)

=======
-ÐžÑ‚Ð»Ð°Ð´Ð¾Ñ‡Ð½Ð°Ñ Ð¿Ð»Ð°Ñ‚Ð° Ð¾Ñ‚ WaveShare Core4X9I c  
ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð¾Ð¼ STM32f429IG 
-LCD Ð¼Ð¾Ð´ÑƒÐ»ÑŒ ÑÐ¾ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¼ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð¾Ð¼ SSD1963 ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ 
Ð¿Ð¾ 16 Ð±Ð¸Ñ‚Ð½Ð¾Ð¹ ÑˆÐ¸Ð½Ðµ (RGB565) Ñ‡ÐµÑ€ÐµÐ· Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð° FMC Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ NAND Flash. 
-Ð¢Ð°Ñ‡ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€ TSC2046 Ñ‡ÐµÑ€ÐµÐ· SPI2 (stm32) Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ð° spi Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° 1,4MHz
-Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð¼Ð¸ÐºÑ€Ð¾ÑÑ…ÐµÐ¼Ð° SDRAM  IS42S16400  1Meg Bits x 16 Bits x 4 Banks (64-MBIT)
Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ð° Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° AHB 90MHz. SDRAM Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð°  Ðº FMC_SDRAM_Bank2  Ð°Ð´Ñ€ÐµÑ SDRAM_BASE=0x90000000 . 
-Heap emWin Ñ€Ð°ÑÐ¿Ð¾Ð»Ð°Ð³Ð°ÐµÑ‚ÑÑ Ñ Ð°Ð´Ñ€ÐµÑÐ° 0x9010 0000 Ð´Ð¾ 0x9019 D7FF ( 630*1024 Ð±Ð°Ð¹Ñ‚)
-SPI FLASH (MX25L8005) Ñ‡ÐµÑ€ÐµÐ· Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ SPI1 11,25MHz (STM32). Ð’ÑÐµ Ð±Ð¸Ñ‚Ð¼Ð°Ð¿Ñ‹ Ð¸ÐºÐ¾Ð½Ð¾Ðº Ñ…Ñ€Ð°Ð½ÑÑ‚ÑŒÑÑ Ð² Ð½ÐµÐ¹ Ð¸ Ð¿Ñ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ 
Ð² SDARM Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ 0x900B0000-0x900BCBAB (50*1024)  Ð¸ Ð´Ð°Ð»ÐµÐµ Ñ€Ð¸ÑÑƒÑŽÑ‚ÑÑ Ð¸Ð· SDRAM. Ð¤Ð°Ð¹Ð» Ñ ÐºÐ°Ñ€Ñ‚Ð¾Ð¹ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ð¿Ð°Ð¼ÑÑ‚Ð¸
memory_map.xls
-sd ÐºÐ°Ñ€Ñ‚Ð° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð° Ð¿Ð¾ 4-Ñ… Ð±Ð¸Ñ‚Ð½Ð¾Ð¼Ñƒ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑƒ SDIO  SDIOCLK=(48MHz) / 2=24MHz.
ÐšÐ°Ñ€Ñ‚Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· DMA2_Stream3. ÐžÐ´Ð¸Ð½ Ð½Ð° Ð¿Ñ€Ð¸ÐµÐ¼ Ð¸ Ð½Ð° Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ñƒ. Ð”Ñ€Ð°Ð¹Ð²ÐµÑ€ ÐºÐ°Ñ€Ñ‚Ñ‹ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð½Ð° Ð±Ð°Ð¹Ñ‚Ð½ÑƒÑŽ Ð°Ð´Ñ€ÐµÑÐ°Ñ†Ð¸ÑŽ (SDSC 1,2 Gb)
-ÐŸÐ¾Ð²ÐµÑ€Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ/Ð·Ð°Ð¿Ð¸ÑÐ¸ ÑÐµÐºÑ‚Ð¾Ñ€Ð° Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ disc_read disc_write Ð¸Ð· Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ FATFs (Chan's)
Ð’ÑÑ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ ÐºÐ°Ñ€Ñ‚Ð¾Ð¹ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ Ð·Ð°Ð¿Ð¸ÑÑŒ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¿Ð¾ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð¾Ð¼ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ FATFS.
-ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð´Ð»Ñ Ð¿Ñ€Ð¸ÐµÐ¼Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ð¿Ð¾ CAN ÑÐµÑ‚Ð¸ (CAN1). Ð§Ð°ÑÑ‚Ð¾Ñ‚Ð° 100 KHz Sample point=80%. Ð¢Ñ€Ð°Ð½ÑÑÐ¸Ð²ÐµÑ€ CAN ÑˆÐ¸Ð½Ñ‹
SN65HVD230.
-ÐÐ° Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ðµ TIM2 ÑÐ´ÐµÐ»Ð°Ð½ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ‚Ð¸Ñ€Ð¸ÑÑ‚Ð¾Ñ€Ð¾Ð¼ Ð´Ð»Ñ Ñ€ÐµÐ³ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚Ð¸ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ (Ð½Ð°Ð³Ñ€ÐµÐ²Ð°Ñ‚ÐµÐ»ÑŒ).
2 Ñ€ÐµÐ¶Ð¸Ð¼Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð° Ñ„Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¸ Ð¿Ð¾ Ð¼ÐµÑ‚Ð¾Ð´Ñƒ Ð±Ñ€ÐµÐ·ÐµÐ½Ñ…ÐµÐ¼Ð°.Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ One pulse mode.Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ° Ð´Ð»Ñ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°Ð½Ð¸Ñ
Ñ‚Ð¸Ñ€Ð¸ÑÑ‚Ð¾Ñ€Ð° 300 Ð¼ÐºÑ. 
-Ð¤Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ñ„Ð°Ð·Ñ‹ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ñ‚Ð¸Ñ€Ð¸ÑÑ‚Ð¾Ñ€Ð° Ð½Ð° ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð¿Ð¾Ð»ÑƒÐ¿ÐµÑ€Ð¸Ð¾Ð´Ðµ
ÑÐµÑ‚ÐµÐ²Ð¾Ð³Ð¾ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½ÑÑ Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ 0-100% Ñ ÑˆÐ°Ð³Ð¾Ð¼ 1%. Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ð¸ Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÑ‚ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑ 
Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ñ‚Ð¸Ñ€Ð¸ÑÑ‚Ð¾Ñ€Ð° Ð½Ð° ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð¿Ð¾Ð»ÑƒÐ¿ÐµÑ€Ð¸Ð¾Ð´Ðµ Ð¿Ð¾ ÑÐ¸Ð³Ð½Ð°Ð»Ñƒ Ñ Ð´ÐµÑ‚ÐµÐºÑ‚Ð¾Ñ€Ð° Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð° "Ñ„Ð°Ð·Ñ‹" Ñ‡ÐµÑ€ÐµÐ· "Ð½Ð¾Ð»ÑŒ".
Ð’ Ñ‚Ð°ÐºÐ¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð³ÐµÐ½ÐµÑ€Ð¸Ñ‚ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÑ‹  Ð°Ð²Ñ‚Ð¾Ð½Ð¾Ð¼Ð½Ð¾ Ð±ÐµÐ· Ð¿Ñ€ÐµÑ€Ñ‹Ð²Ð°Ð½Ð¸Ð¹.
-Ð‘Ñ€ÐµÐ·ÐµÐ½Ñ…ÐµÐ¼Ð° Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚Ð¸ Ð¿ÑƒÑ‚ÐµÐ¼ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ¾Ð² Ñ†ÐµÐ»Ñ‹Ñ… Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð¾Ð² ÑÐ¸Ð½ÑƒÑÐ¾Ð¹Ð´Ñ‹ ÑÐµÑ‚ÐµÐ²Ð¾Ð³Ð¾ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ñ.
Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ Ð¿Ñ€ÐµÑ€Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð° Ð¿Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑŽ capture Ð¾Ñ‚ Ð´ÐµÑ‚ÐµÐºÑ‚Ð¾Ñ€Ð° "Ñ„Ð°Ð·Ñ‹ Ñ‡ÐµÑ€ÐµÐ· Ð½Ð¾Ð»ÑŒ". 
Ð§ÐµÑ€ÐµÐ· Ð±Ð¸Ñ‚Ñ‹ IC1PSC Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð° CCMR1 Ð¿Ñ€ÐµÑ€Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ð·Ð°Ñ…Ð²Ð°Ñ‚Ñƒ ÑÑ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð½Ð° ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐµ. Ð¢Ð°ÐºÐ¸Ð¼
Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼  Ð´ÐµÐ»Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐº Ñ†ÐµÐ»Ñ‹Ñ… Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð¾Ð² ÑÐ¸Ð½ÑƒÑÐ¾Ð¹Ð´Ñ‹ Ð´Ð»Ñ Ñ€ÐµÐ³ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ. ÐœÐ¾Ñ‰Ð½Ð¾ÑÑ‚ÑŒ Ñ€ÐµÐ³ÑƒÐ»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ 0-100 %
Ð½Ð¾ Ð² Ñ‚Ð°ÐºÐ¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ ÑˆÐ°Ð³ Ñ€Ð°Ð²ÐµÐ½ 2% (50 Ð´ÐµÐ»ÐµÐ½Ð¸Ð¹ Ð¿Ð¾ Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚Ð¸).	    
>>>>>>> origin/master
  

 
